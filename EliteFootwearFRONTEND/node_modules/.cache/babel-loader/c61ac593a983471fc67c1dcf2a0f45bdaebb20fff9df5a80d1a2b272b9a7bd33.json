{"ast":null,"code":"var _jsxFileName = \"/Users/sanjeev/Downloads/fsdProject/EliteFootwear-FRONTEND/src/pages/LoginPage.js\",\n  _s = $RefreshSig$();\nimport { useState, useContext } from \"react\";\nimport { Navigate } from \"react-router-dom\";\nimport { UserContext } from \"../App\";\n// import { Bounce, Slide, toast } from 'react-toastify';\nimport toast from \"react-hot-toast\";\nimport { LoadingSpinner } from \"../components/LoadingSpinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function LoginPage() {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const {\n    userInfo,\n    setUserInfo\n  } = useContext(UserContext);\n  async function login(ev) {\n    ev.preventDefault();\n    setIsLoading(true);\n    const response = await fetch('http://localhost:4000/api/customer/login', {\n      method: 'POST',\n      body: JSON.stringify({\n        email,\n        password\n      }),\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      credentials: 'include'\n    });\n    if (response.ok) {\n      const data = await response.json();\n      console.log('displaying the data');\n      console.log(data);\n      setUserInfo({\n        name: data.name,\n        email: email,\n        password: password,\n        phone: data.phone,\n        cart: data.cart,\n        favorites: data.favorites,\n        selectedSize: data.selectedSize,\n        quantity: data.quantity\n      });\n      toast.success(\"Logged In!\");\n      setIsLoading(false);\n      console.log(userInfo);\n      setRedirect(true);\n    } else {\n      // toast.error('Wrong Credentials', {\n      //     position: \"top-center\",\n      //     autoClose: 3000,\n      //     hideProgressBar: false,\n      //     closeOnClick: true,\n      //     pauseOnHover: true,\n      //     draggable: true,\n      //     progress: 0,\n      //     theme: \"dark\",\n      //     transition: Bounce,\n      //     });\n      toast.error('Wrong Credentials');\n      setIsLoading(false);\n    }\n  }\n  if (redirect) {\n    return userInfo.email !== 'admin@gmail.com' ? /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 55\n    }, this) : /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/admin\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 82\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"login\",\n    onSubmit: login,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"LOGIN\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"username\",\n      value: email,\n      onChange: ev => setEmail(ev.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"password\",\n      value: password,\n      onChange: ev => setPassword(ev.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 70,\n    columnNumber: 9\n  }, this);\n}\n_s(LoginPage, \"EeXywk84McuOPiH85JFIygIZAUQ=\");\n_c = LoginPage;\nvar _c;\n$RefreshReg$(_c, \"LoginPage\");","map":{"version":3,"names":["useState","useContext","Navigate","UserContext","toast","LoadingSpinner","jsxDEV","_jsxDEV","LoginPage","_s","isLoading","setIsLoading","email","setEmail","password","setPassword","redirect","setRedirect","userInfo","setUserInfo","login","ev","preventDefault","response","fetch","method","body","JSON","stringify","headers","credentials","ok","data","json","console","log","name","phone","cart","favorites","selectedSize","quantity","success","error","to","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","children","type","placeholder","value","onChange","target","_c","$RefreshReg$"],"sources":["/Users/sanjeev/Downloads/fsdProject/EliteFootwear-FRONTEND/src/pages/LoginPage.js"],"sourcesContent":["import {useState, useContext} from \"react\";\nimport {Navigate} from \"react-router-dom\";\nimport { UserContext } from \"../App\";\n// import { Bounce, Slide, toast } from 'react-toastify';\nimport toast from \"react-hot-toast\";\nimport { LoadingSpinner } from \"../components/LoadingSpinner\";\n\n\nexport default function LoginPage(){\n\n    const [isLoading, setIsLoading] = useState(false);\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [redirect, setRedirect] = useState(false);\n\n    const {userInfo, setUserInfo} = useContext(UserContext);\n\n    async function login(ev){\n        ev.preventDefault();\n        setIsLoading(true);\n        const response = await fetch('http://localhost:4000/api/customer/login', {\n            method: 'POST',\n            body: JSON.stringify({email, password}),\n            headers: {'Content-Type': 'application/json'},\n            credentials: 'include'\n        });\n        if (response.ok){\n            const data = await response.json();\n            console.log('displaying the data');\n            console.log(data);\n            setUserInfo({\n                    name: data.name,\n                    email: email,\n                    password: password,\n                    phone: data.phone,\n                    cart: data.cart,\n                    favorites: data.favorites,\n                    selectedSize: data.selectedSize,\n                    quantity: data.quantity\n            });\n            toast.success(\"Logged In!\");\n            setIsLoading(false);\n            console.log(userInfo);\n            setRedirect(true);\n        }\n        else{\n            // toast.error('Wrong Credentials', {\n            //     position: \"top-center\",\n            //     autoClose: 3000,\n            //     hideProgressBar: false,\n            //     closeOnClick: true,\n            //     pauseOnHover: true,\n            //     draggable: true,\n            //     progress: 0,\n            //     theme: \"dark\",\n            //     transition: Bounce,\n            //     });\n            toast.error('Wrong Credentials');\n            setIsLoading(false);\n        }\n    }\n\n\n    \n    if (redirect){\n        return (userInfo.email!=='admin@gmail.com')? (<Navigate to= {\"/\"} />) : (<Navigate to= {\"/admin\"} />);\n    }\n    return (\n\n        <form className=\"login\" onSubmit={login}>\n            <h1>LOGIN</h1>\n            <input \n                type=\"text\" \n                placeholder=\"username\"\n                value = {email}\n                onChange= {ev => setEmail(ev.target.value)}\n            />\n            <input \n                type=\"password\" \n                placeholder=\"password\"\n                value = {password}\n                onChange= {ev => setPassword(ev.target.value)}\n            />\n            <button>Login</button>\n            {isLoading && <LoadingSpinner/>}\n\n        </form>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}