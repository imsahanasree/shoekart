{"ast":null,"code":"var _jsxFileName = \"/Users/sanjeev/Downloads/fsdProject/EliteFootwear-FRONTEND/src/pages/RegisterPage.js\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\n// import {toast, Bounce, Slide} from 'react-toastify';\nimport toast from \"react-hot-toast\";\nimport { LoadingSpinner } from \"../components/LoadingSpinner\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RegisterPage() {\n  _s();\n  const [isLoading, setIsLoading] = useState(false);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [pno, setPno] = useState('');\n  const [redirect, setRedirect] = useState(false);\n  const [name, setName] = useState('');\n  const handleInputChange = ev => {\n    const {\n      value\n    } = ev.target;\n    // Only allow numbers\n    const numericValue = value.replace(/[^0-9]/g, '');\n    setPno(numericValue);\n  };\n  async function register(ev) {\n    ev.preventDefault();\n    setIsLoading(true);\n    try {\n      const response = await fetch('http://localhost:4000/api/customers', {\n        method: 'POST',\n        body: JSON.stringify({\n          name: name,\n          email: email,\n          phone: pno,\n          password: password,\n          cart: [],\n          favorites: [],\n          selectedSize: [],\n          quantity: []\n        }),\n        headers: {\n          'Content-type': 'application/json'\n        }\n      });\n      const result = await response.json();\n      if (response.ok) {\n        toast.success('Registration Successful!');\n        setRedirect(true);\n      } else {\n        // Display the error from the response body\n        // toast.error(`Registration Failed!\\n${responseBody.message || 'An error occurred.'}`, {\n        //     duration: 5000,\n        //     position: \"top-center\",\n        //     autoClose: 5000,\n        //     hideProgressBar: false,\n        //     closeOnClick: true,\n        //     pauseOnHover: true,\n        //     draggable: true,\n        //     progress: 0,\n        //     theme: \"light\"\n        // });\n        toast(`An error occurred while reaching to the server:\\n${response.body}`, {\n          duration: 5000\n        });\n      }\n    } catch (error) {\n      // Handle network errors or unexpected issues\n      console.error('Registration error:', error);\n      // toast.error(`An unexpected error occurred:\\n${error.message}`, {\n      //     duration: 5000,\n      //     position: \"top-center\",\n      //     autoClose: 5000,\n      //     hideProgressBar: false,\n      //     closeOnClick: true,\n      //     pauseOnHover: true,\n      //     draggable: true,\n      //     progress: 0,\n      //     theme: \"light\"\n      // });\n      toast(`An error occurred while reaching to the server:\\n${error}`, {\n        duration: 5000\n      });\n    } finally {\n      setIsLoading(false);\n    }\n  }\n  if (redirect) {\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/login\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"register\",\n    onSubmit: register,\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"REGISTER\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"name\",\n      value: name,\n      onChange: ev => {\n        setName(ev.target.value);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"username\",\n      value: email,\n      onChange: ev => setEmail(ev.target.value),\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"password\",\n      placeholder: \"password\",\n      value: password,\n      onChange: ev => {\n        setPassword(ev.target.value);\n      },\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"phone number\",\n      value: pno,\n      onChange: handleInputChange,\n      required: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      children: \"Register\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 27\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 9\n  }, this);\n}\n_s(RegisterPage, \"+22CCreOO530TILZrK8CVlirDAs=\");\n_c = RegisterPage;\nvar _c;\n$RefreshReg$(_c, \"RegisterPage\");","map":{"version":3,"names":["useState","Navigate","toast","LoadingSpinner","jsxDEV","_jsxDEV","RegisterPage","_s","isLoading","setIsLoading","email","setEmail","password","setPassword","pno","setPno","redirect","setRedirect","name","setName","handleInputChange","ev","value","target","numericValue","replace","register","preventDefault","response","fetch","method","body","JSON","stringify","phone","cart","favorites","selectedSize","quantity","headers","result","json","ok","success","duration","error","console","to","fileName","_jsxFileName","lineNumber","columnNumber","className","onSubmit","children","type","placeholder","onChange","required","_c","$RefreshReg$"],"sources":["/Users/sanjeev/Downloads/fsdProject/EliteFootwear-FRONTEND/src/pages/RegisterPage.js"],"sourcesContent":["import { useState } from \"react\";\nimport { Navigate } from \"react-router-dom\";\n// import {toast, Bounce, Slide} from 'react-toastify';\nimport toast from \"react-hot-toast\";\nimport { LoadingSpinner } from \"../components/LoadingSpinner\";\n\n\n\nexport default  function RegisterPage(){\n\n    const [isLoading, setIsLoading] = useState(false);\n\n    const [email, setEmail] = useState('');\n    const [password, setPassword] = useState('');\n    const [pno, setPno] = useState('');\n    const [redirect, setRedirect] = useState(false);\n    const [name, setName] = useState('');\n\n    const handleInputChange = (ev) => {\n        const { value } = ev.target;\n        // Only allow numbers\n        const numericValue = value.replace(/[^0-9]/g, '');\n        setPno(numericValue);\n      };\n\n    async function register(ev){\n        ev.preventDefault();\n        setIsLoading(true);\n        try{\n            const response = await fetch('http://localhost:4000/api/customers', {\n                method: 'POST',\n                body: JSON.stringify({\n                                        name:name,\n                                        email: email,\n                                        phone: pno,\n                                        password:password,\n                                        cart:[],\n                                        favorites:[],\n                                        selectedSize: [],\n                                        quantity:[]\n                                    }),\n                headers: {'Content-type': 'application/json'}\n            });\n            const result = await response.json();\n            if (response.ok) {\n                toast.success('Registration Successful!');\n                setRedirect(true);\n            }\n            else {\n                // Display the error from the response body\n                // toast.error(`Registration Failed!\\n${responseBody.message || 'An error occurred.'}`, {\n                //     duration: 5000,\n                //     position: \"top-center\",\n                //     autoClose: 5000,\n                //     hideProgressBar: false,\n                //     closeOnClick: true,\n                //     pauseOnHover: true,\n                //     draggable: true,\n                //     progress: 0,\n                //     theme: \"light\"\n                // });\n                toast(`An error occurred while reaching to the server:\\n${response.body}`,{duration: 5000});\n            }\n        }\n\n        catch(error){\n            // Handle network errors or unexpected issues\n            console.error('Registration error:', error);\n            // toast.error(`An unexpected error occurred:\\n${error.message}`, {\n            //     duration: 5000,\n            //     position: \"top-center\",\n            //     autoClose: 5000,\n            //     hideProgressBar: false,\n            //     closeOnClick: true,\n            //     pauseOnHover: true,\n            //     draggable: true,\n            //     progress: 0,\n            //     theme: \"light\"\n            // });\n            toast(`An error occurred while reaching to the server:\\n${error}`,{duration: 5000});\n\n        }\n        finally {\n            setIsLoading(false);\n        }\n    }\n\n    if (redirect){\n        return (<Navigate to= {\"/login\"} />);\n    }\n\n    return (\n        <form className=\"register\" onSubmit={register}>\n            <h1>REGISTER</h1>\n            <input type=\"text\" \n                   placeholder=\"name\" \n                   value={name}\n                   onChange={ev => {setName(ev.target.value)}}/>\n            <input type=\"text\" \n                   placeholder=\"username\" \n                   value={email}\n                   onChange={ev => setEmail(ev.target.value)}\n                   required/>\n            <input type=\"password\" \n                   placeholder=\"password\" \n                   value={password}\n                   onChange={ev => {setPassword(ev.target.value)}}\n                   required/>\n            <input \n                type=\"text\" \n                placeholder=\"phone number\"\n                value = {pno}\n                onChange= {handleInputChange}\n                required\n            />\n            <button>Register</button>\n            {isLoading && <LoadingSpinner/>}\n\n        </form>\n    );\n}"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C;AACA,OAAOC,KAAK,MAAM,iBAAiB;AACnC,SAASC,cAAc,QAAQ,8BAA8B;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAI9D,eAAgB,SAASC,YAAYA,CAAA,EAAE;EAAAC,EAAA;EAEnC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAEjD,MAAM,CAACU,KAAK,EAAEC,QAAQ,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACY,QAAQ,EAAEC,WAAW,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACc,GAAG,EAAEC,MAAM,CAAC,GAAGf,QAAQ,CAAC,EAAE,CAAC;EAClC,MAAM,CAACgB,QAAQ,EAAEC,WAAW,CAAC,GAAGjB,QAAQ,CAAC,KAAK,CAAC;EAC/C,MAAM,CAACkB,IAAI,EAAEC,OAAO,CAAC,GAAGnB,QAAQ,CAAC,EAAE,CAAC;EAEpC,MAAMoB,iBAAiB,GAAIC,EAAE,IAAK;IAC9B,MAAM;MAAEC;IAAM,CAAC,GAAGD,EAAE,CAACE,MAAM;IAC3B;IACA,MAAMC,YAAY,GAAGF,KAAK,CAACG,OAAO,CAAC,SAAS,EAAE,EAAE,CAAC;IACjDV,MAAM,CAACS,YAAY,CAAC;EACtB,CAAC;EAEH,eAAeE,QAAQA,CAACL,EAAE,EAAC;IACvBA,EAAE,CAACM,cAAc,CAAC,CAAC;IACnBlB,YAAY,CAAC,IAAI,CAAC;IAClB,IAAG;MACC,MAAMmB,QAAQ,GAAG,MAAMC,KAAK,CAAC,qCAAqC,EAAE;QAChEC,MAAM,EAAE,MAAM;QACdC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UACGf,IAAI,EAACA,IAAI;UACTR,KAAK,EAAEA,KAAK;UACZwB,KAAK,EAAEpB,GAAG;UACVF,QAAQ,EAACA,QAAQ;UACjBuB,IAAI,EAAC,EAAE;UACPC,SAAS,EAAC,EAAE;UACZC,YAAY,EAAE,EAAE;UAChBC,QAAQ,EAAC;QACb,CAAC,CAAC;QACtBC,OAAO,EAAE;UAAC,cAAc,EAAE;QAAkB;MAChD,CAAC,CAAC;MACF,MAAMC,MAAM,GAAG,MAAMZ,QAAQ,CAACa,IAAI,CAAC,CAAC;MACpC,IAAIb,QAAQ,CAACc,EAAE,EAAE;QACbxC,KAAK,CAACyC,OAAO,CAAC,0BAA0B,CAAC;QACzC1B,WAAW,CAAC,IAAI,CAAC;MACrB,CAAC,MACI;QACD;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACAf,KAAK,CAAC,oDAAoD0B,QAAQ,CAACG,IAAI,EAAE,EAAC;UAACa,QAAQ,EAAE;QAAI,CAAC,CAAC;MAC/F;IACJ,CAAC,CAED,OAAMC,KAAK,EAAC;MACR;MACAC,OAAO,CAACD,KAAK,CAAC,qBAAqB,EAAEA,KAAK,CAAC;MAC3C;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA3C,KAAK,CAAC,oDAAoD2C,KAAK,EAAE,EAAC;QAACD,QAAQ,EAAE;MAAI,CAAC,CAAC;IAEvF,CAAC,SACO;MACJnC,YAAY,CAAC,KAAK,CAAC;IACvB;EACJ;EAEA,IAAIO,QAAQ,EAAC;IACT,oBAAQX,OAAA,CAACJ,QAAQ;MAAC8C,EAAE,EAAG;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC;EACvC;EAEA,oBACI9C,OAAA;IAAM+C,SAAS,EAAC,UAAU;IAACC,QAAQ,EAAE3B,QAAS;IAAA4B,QAAA,gBAC1CjD,OAAA;MAAAiD,QAAA,EAAI;IAAQ;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACjB9C,OAAA;MAAOkD,IAAI,EAAC,MAAM;MACXC,WAAW,EAAC,MAAM;MAClBlC,KAAK,EAAEJ,IAAK;MACZuC,QAAQ,EAAEpC,EAAE,IAAI;QAACF,OAAO,CAACE,EAAE,CAACE,MAAM,CAACD,KAAK,CAAC;MAAA;IAAE;MAAA0B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eACpD9C,OAAA;MAAOkD,IAAI,EAAC,MAAM;MACXC,WAAW,EAAC,UAAU;MACtBlC,KAAK,EAAEZ,KAAM;MACb+C,QAAQ,EAAEpC,EAAE,IAAIV,QAAQ,CAACU,EAAE,CAACE,MAAM,CAACD,KAAK,CAAE;MAC1CoC,QAAQ;IAAA;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eACjB9C,OAAA;MAAOkD,IAAI,EAAC,UAAU;MACfC,WAAW,EAAC,UAAU;MACtBlC,KAAK,EAAEV,QAAS;MAChB6C,QAAQ,EAAEpC,EAAE,IAAI;QAACR,WAAW,CAACQ,EAAE,CAACE,MAAM,CAACD,KAAK,CAAC;MAAA,CAAE;MAC/CoC,QAAQ;IAAA;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC,eACjB9C,OAAA;MACIkD,IAAI,EAAC,MAAM;MACXC,WAAW,EAAC,cAAc;MAC1BlC,KAAK,EAAIR,GAAI;MACb2C,QAAQ,EAAGrC,iBAAkB;MAC7BsC,QAAQ;IAAA;MAAAV,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACX,CAAC,eACF9C,OAAA;MAAAiD,QAAA,EAAQ;IAAQ;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC,EACxB3C,SAAS,iBAAIH,OAAA,CAACF,cAAc;MAAA6C,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAE7B,CAAC;AAEf;AAAC5C,EAAA,CAhHwBD,YAAY;AAAAqD,EAAA,GAAZrD,YAAY;AAAA,IAAAqD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}